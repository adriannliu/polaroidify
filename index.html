<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Respot - Your Top Tracks</title>
        <link rel="stylesheet" href="src/style.css">
    </head>
    <body>
        <div class="container">
            <header>
                <h1>üéµ Respot</h1>
                <p>Discover your top tracks on Spotify</p>
            </header>
            
            <main>
                <div id="login-section" class="section">
                    <button id="login-btn" class="btn btn-primary">
                        Login with Spotify
                    </button>
                </div>
                
                <div id="tracks-section" class="section hidden">
                    <div class="header-controls">
                        <h2>Your Top Tracks</h2>
                        <button id="logout-btn" class="btn btn-secondary">Logout</button>
                    </div>
                    
                    <div class="algorithm-selector">
                        <h3>Choose Algorithm:</h3>
                        <button class="btn btn-secondary active" data-algorithm="spotify">Spotify's Algorithm</button>
                        <button class="btn btn-secondary" data-algorithm="custom">Custom Algorithm (Experimental)</button>
                    </div>
                    
                    <div id="weight-sliders" class="weight-sliders hidden">
                        <h3>Customize Algorithm Weights</h3>
                        <div class="slider-group">
                            <label for="playCount-weight">Play Count Weight: <span id="playCount-value">10</span></label>
                            <input type="range" id="playCount-weight" min="1" max="20" value="10" class="weight-slider">
                        </div>
                        <div class="slider-group">
                            <label for="recency-weight">Recency Weight: <span id="recency-value">3</span></label>
                            <input type="range" id="recency-weight" min="0" max="10" value="3" class="weight-slider">
                        </div>
                        <div class="slider-group">
                            <label for="userRating-weight">User Rating Weight: <span id="userRating-value">8</span></label>
                            <input type="range" id="userRating-weight" min="0" max="15" value="8" class="weight-slider">
                        </div>
                        <div class="slider-group">
                            <label for="timeOfDay-weight">Time of Day Weight: <span id="timeOfDay-value">1</span></label>
                            <input type="range" id="timeOfDay-weight" min="0" max="5" value="1" class="weight-slider">
                        </div>
                        <div class="slider-group">
                            <label for="timeframeMultiplier-weight">Timeframe Multiplier: <span id="timeframeMultiplier-value">1</span></label>
                            <input type="range" id="timeframeMultiplier-weight" min="0.5" max="3" step="0.1" value="1" class="weight-slider">
                        </div>
                        <button id="test-weights-btn" class="btn btn-secondary" style="margin-top: 1rem;">üß™ Test Extreme Weights</button>
                    </div>
                    
                    <div class="timeframe-selector">
                        <h3>Time Period:</h3>
                        <button class="btn btn-secondary active" data-timeframe="short_term">Last 4 Weeks</button>
                        <button class="btn btn-secondary" data-timeframe="medium_term">Last 6 Months</button>
                        <button class="btn btn-secondary" data-timeframe="long_term">All Time</button>
                        <button class="btn btn-secondary" data-timeframe="recent">10 Recent</button>
                    </div>
                    
                    <div class="track-count-selector">
                        <h3>Number of Tracks:</h3>
                        <button class="btn btn-secondary active" data-track-count="10">10 Tracks</button>
                        <button class="btn btn-secondary" data-track-count="25">25 Tracks</button>
                        <button class="btn btn-secondary" data-track-count="50">50 Tracks</button>
                    </div>
                    
                    <div class="polaroid-controls">
                        <div class="button-container">
                            <button id="polaroid-btn" class="btn btn-primary">üì∏ Polaroid-ize My Top 10</button>
                            <button id="upload-photo-btn" class="btn btn-secondary">üñºÔ∏è Upload Photo</button>
                            <input type="file" id="photo-upload" accept="image/*" style="display: none;">
                        </div>
                    </div>
                    
                    <div id="polaroid-preview" class="polaroid-preview hidden">
                        <h3>Your Polaroid Preview</h3>
                        <div class="polaroid-container">
                            <canvas id="polaroid-canvas"></canvas>
                        </div>
                        <button id="download-polaroid-btn" class="btn btn-primary">üì• Download Polaroid</button>
                        <button id="close-polaroid-btn" class="btn btn-secondary">‚úï Close Preview</button>
                    </div>
                    
                    <div id="tracks-container" class="tracks-grid">
                        <!-- Tracks will be loaded here -->
                    </div>
                    <div id="loading" class="loading hidden">
                        <div class="spinner"></div>
                        <p>Loading your top tracks...</p>
                    </div>
                </div>
            </main>
        </div>
        
        <script src="src/main.ts" type="module"></script>
    </body>
</html>